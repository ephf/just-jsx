{"undefined"==typeof window&&(global.window=global);let t=/[ \r\n\t]/,e=/(^|[^\w)\]]|return)$/;window.jsx={_functionRegistry:[],createElement(t,e,...r){if("function"==typeof t)return t(e,...r);let n=t?document.createElement(t):document.createDocumentFragment();return Object.entries(e??{}).forEach(([t,e])=>{if("function"==typeof e){n.setAttribute(t,`jsx._functionRegistry[${jsx._functionRegistry.length}].call(this, event)`),jsx._functionRegistry.push(e);return}n.setAttribute(t,e)}),n.append(...r),n},async import(t){let e=await fetch(t).then(t=>t.text());return await import(`data:text/javascript;base64,${btoa(jsx.parse(e))}`)},parse(r){let n=[{type:null}];return[...r].reduce((a,i,l)=>{let s=n.at(-1);if("comment"==s.type)return"\r"==i||"\n"==i?(n.pop(),a+i):a;if("string"==s.type)return"\n"==i?a+"\\n":"\r"==i?a+"\\r":(s.lesc&&(s.lesc=!1),s.esc)?(s.esc=!1,s.lesc=!0,a+i):"\\"==i?(s.esc=!0,a+i):s.char==i?(n.pop(),a+i):("{"!=i||"$"!=r[l-1]||s.lesc||"`"!=s.char||n.push({type:null}),a+i);if("html"==s.type)return(("\n"==i||"\r"==i)&&(s.newline=!0),"<"==i)?(s.newline=!1,s.text&&(a+=`, ${JSON.stringify(s.text)}`,s.text=""),n.push({type:"tag",name:"",named:!1,closing:null,attrName:"",attrVal:!1,fattr:!0}),a+", "):"{"==i?(s.newline=!1,s.text&&(a+=`, ${JSON.stringify(s.text)}`,s.text=""),n.push({type:null,close:""}),a+", "):s.text||!s.newline?("\n"==i||"\r"==i)&&s.text?(a+=`, ${JSON.stringify(s.text)}`,s.text="",a):(s.text+=i,a):(i.match(t)||(s.newline=!1,s.text=i),a);if("tag"==s.type){if(null===s.closing){if("/"==i)return s.closing=!0,a;s.closing=!1}if(!s.named){if(i.match(/\w/))return s.name+=i,a;s.named=!0,s.closing?a=a.replace(/, $|$/,")"):"head"==s.name?a+='export const head = jsx.createElement("head", {':a+=`jsx.createElement(${s.name.match(/^[A-Z]/)?s.name:`"${s.name}"`}, { `}if(s.attrVal){if("{"==i)return n.push({type:null,close:""}),s.attrVal=!1,a;if('"'==i)return n.push({type:"string",char:i,esc:!1,lesc:!1}),s.attrVal=!1,a+i}attrNameLogic:if(s.attrName){if(i.match(t)||">"==i||"/"==i){s.fattr?s.fattr=!1:a+=", ",a+=`"${s.attrName}": true`,s.attrName="";break attrNameLogic}if("="==i)return s.fattr?s.fattr=!1:a+=", ",a+=`"${s.attrName}": `,s.attrName="",s.attrVal=!0,a;return s.attrName+=i,a}return">"==i?(n.pop(),s.closing)?(n.pop(),a):(a+=" }",a=a.replace(/\{  \}$/,"null"),"/"==r[l-1])?a+")":(n.push({type:"html",text:"",newline:!1}),a):(i.match(t)||"/"==i||(s.attrName+=i),a)}return"/"==i&&"/"==r[l+1]?(n.push({type:"comment"}),a):"<"==i&&a.trim().match(e)?(n.push({type:"tag",name:"",named:!1,closing:null,attrName:"",attrVal:!1,fattr:!0}),a):'"'==i||"'"==i||"`"==i||"/"==i&&a.trim().match(e)?(n.push({type:"string",char:i,esc:!1,lesc:!1}),a+i):"{"==i?(n.push({type:null}),a+i):"}"==i?(n.pop(),a+(s.close??i)):a+i},"").replace(/^ *(import)( *\w* *)?(, *)?{?(.*?)}?( *from *)?(".+?")/gm,(t,e,r,n,a,i,l)=>`let {${r.trim()?`default: ${r}`:""}${r.trim()&&a?",":""}${a}} = await jsx.import(${l})`)}}}new MutationObserver(t=>{for(let{addedNodes:e}of t)for(let r of e)if("SCRIPT"==r.nodeName&&r.hasAttribute("jsx")&&"compiled"!=r.getAttribute("jsx")){if(r.innerHTML.match(/^ *import/gm)&&r.setAttribute("async",""),r.src){fetch(r.src).then(t=>t.text()).then(t=>{r.innerHTML=jsx.parse(t);let e=document.createElement("script");r.replaceWith(e),e.replaceWith(r),r.setAttribute("jsx","compiled")}),r.removeAttribute("src");return}r.innerHTML=jsx.parse(r.innerHTML),r.setAttribute("jsx","compiled")}}).observe(document,{subtree:!0,childList:!0});