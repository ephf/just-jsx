{"undefined"==typeof window&&Object.assign(global,{window:global,MutationObserver:class{observe(){}},document:null});let t=/[ \r\n\t]/,e=/(^|[^\w)\]]|return)$/;window.jsx={_functionRegistry:[],createElement(t,e,...r){if(r=r.map(t=>t instanceof Array?jsx.createElement("",null,...t):t),"function"==typeof t)return t(e,...r);let n=t?document.createElement(t):document.createDocumentFragment();return Object.entries(e??{}).forEach(([t,e])=>{if("function"==typeof e){n.setAttribute(t,`jsx._functionRegistry[${jsx._functionRegistry.length}].call(this, event)`),jsx._functionRegistry.push(e);return}n.setAttribute(t,e)}),n.append(...r),n},async import(t){let e=await fetch(t).then(t=>t.text());return await import(`data:text/javascript;base64,${btoa(jsx.parse(e))}`)},parse(r){let n=[{type:null}];return[...r].reduce((a,i,s)=>{let l=n.at(-1);if("comment"==l.type)return"\r"==i||"\n"==i?(n.pop(),a+i):a;if("string"==l.type)return"\n"==i?a+"\\n":"\r"==i?a+"\\r":(l.lesc&&(l.lesc=!1),l.esc)?(l.esc=!1,l.lesc=!0,a+i):"\\"==i?(l.esc=!0,a+i):l.char==i?(n.pop(),a+i):("{"!=i||"$"!=r[s-1]||l.lesc||"`"!=l.char||n.push({type:null}),a+i);if("html"==l.type)return(("\n"==i||"\r"==i)&&(l.newline=!0),"<"==i)?(l.newline=!1,l.text&&(a+=`, ${JSON.stringify(l.text)}`,l.text=""),n.push({type:"tag",name:"",named:!1,closing:null,attrName:"",attrVal:!1,fattr:!0}),a+", "):"{"==i?(l.newline=!1,l.text&&(a+=`, ${JSON.stringify(l.text)}`,l.text=""),n.push({type:null,close:""}),a+", "):l.text||!l.newline?("\n"==i||"\r"==i)&&l.text?(a+=`, ${JSON.stringify(l.text)}`,l.text="",a):(l.text+=i,a):(i.match(t)||(l.newline=!1,l.text=i),a);if("tag"==l.type){if(null===l.closing){if("/"==i)return l.closing=!0,a;l.closing=!1}if(!l.named){if(i.match(/\w/))return l.name+=i,a;l.named=!0,l.closing?a=a.replace(/, $|$/,")"):"head"==l.name?a+='export const head = jsx.createElement("head", {':a+=`jsx.createElement(${l.name.match(/^[A-Z]/)?l.name:`"${l.name}"`}, { `}if(l.attrVal){if("{"==i)return n.push({type:null,close:""}),l.attrVal=!1,a;if('"'==i)return n.push({type:"string",char:i,esc:!1,lesc:!1}),l.attrVal=!1,a+i}attrNameLogic:if(l.attrName){if(i.match(t)||">"==i||"/"==i){l.fattr?l.fattr=!1:a+=", ",a+=`"${l.attrName}": true`,l.attrName="";break attrNameLogic}if("="==i)return l.fattr?l.fattr=!1:a+=", ",a+=`"${l.attrName}": `,l.attrName="",l.attrVal=!0,a;return l.attrName+=i,a}return">"==i?(n.pop(),l.closing)?(n.pop(),a):(a+=" }",a=a.replace(/\{  \}$/,"null"),"/"==r[s-1])?a+")":(n.push({type:"html",text:"",newline:!1}),a):(i.match(t)||"/"==i||(l.attrName+=i),a)}return"/"==i&&"/"==r[s+1]?(n.push({type:"comment"}),a):"<"==i&&a.trim().match(e)?(n.push({type:"tag",name:"",named:!1,closing:null,attrName:"",attrVal:!1,fattr:!0}),a):'"'==i||"'"==i||"`"==i||"/"==i&&a.trim().match(e)?(n.push({type:"string",char:i,esc:!1,lesc:!1}),a+i):"{"==i?(n.push({type:null}),a+i):"}"==i?(n.pop(),a+(l.close??i)):a+i},"").replace(/^ *(import)( *\w* *)?(, *)?{?(.*?)}?( *from *)?(".+?")/gm,(t,e,r,n,a,i,s)=>`let {${r.trim()?`default: ${r}`:""}${r.trim()&&a?",":""}${a}} = await jsx.import(${s})`)}}}new MutationObserver(t=>{for(let{addedNodes:e}of t)for(let r of e)if("SCRIPT"==r.nodeName&&r.hasAttribute("jsx")&&"compiled"!=r.getAttribute("jsx")){if(r.innerHTML.match(/^ *import/gm)&&r.setAttribute("async",""),r.src){fetch(r.src).then(t=>t.text()).then(t=>{r.innerHTML=jsx.parse(t);let e=document.createElement("script");r.replaceWith(e),e.replaceWith(r),r.setAttribute("jsx","compiled")}),r.removeAttribute("src");return}r.innerHTML=jsx.parse(r.innerHTML),r.setAttribute("jsx","compiled")}}).observe(document,{subtree:!0,childList:!0});